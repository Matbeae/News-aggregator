# News-aggregator
Telegram-бот, который агрегирует новости с заданных RSS-каналов и отправляет их в Telegram-канал или пользователю. Он поддерживает автоматическое обновление новостей, создание дайджестов и их рассылку.
## Технологии

- **aiogram**: для работы с Telegram API
- **SQLAlchemy**: для работы с базой данных
- **feedparser**: для парсинга RSS-каналов
- **transformers** (опционально): для использования моделей LLM для суммаризации текста
- **nltk**: для простого суммаризатора (если transformers не используются)

## Установка

Для работы с проектом требуется Python 3.8 и выше.

1. Клонируйте репозиторий:
2. Установите зависимости:

    ```bash
    pip install -r requirements.txt
    ```
3. Если вы хотите использовать **transformers** для суммаризации, установите дополнительные зависимости:

    ```bash
    pip install transformers torch
    ```

    И убедитесь, что у вас есть доступ к необходимым моделям.

## Запуск

Для запуска бота выполните:

```bash
python app.py
```
Бот начнет работать и будет собирать новости с заданных RSS-каналов, обновлять базу данных и рассылать новости по мере их появления.

## Команды бота

* `/start`: Приветственное сообщение и информация о боте.
* `/digest`: Получить свежий дайджест новостей.
* `/help`: Информация о доступных командах.
* `/fetch_now`: Команда для администраторов, чтобы вручную обновить RSS-каналы и сохранить новые статьи.

## Структура базы данных

База данных состоит из одной таблицы `articles` со следующими полями:

* `id`: уникальный идентификатор записи.
* `guid`: уникальный идентификатор статьи (из RSS).
* `title`: заголовок статьи.
* `link`: ссылка на статью.
* `published`: дата публикации.
* `source`: источник новости (RSS-канал).
* `summary`: полное описание статьи.
* `short`: краткое описание статьи.
* `fetched_at`: дата и время последнего получения новости.

## Логирование

Логирование настроено через стандартный модуль `logging`. Логи выводятся на консоль с уровнем `INFO` и `DEBUG` для некоторых частей кода (например, при парсинге RSS-каналов).

## Использование суммаризации

Если библиотека `transformers` доступна, бот будет использовать модель для суммаризации текста. В противном случае будет использован простой метод суммаризации с использованием библиотеки `nltk`.
